'use strict';

var currentTime = require('../inc/utils').currentTime;
var MAX_ELAPSED = 33;

var current = 0;
var elapsed = 16.7;

var timer = {
    update: function update(framestamp) {
        var prev = current;
        current = framestamp;
        elapsed = Math.min(current - prev, MAX_ELAPSED);

        return current;
    },

    start: function start() {
        return current = currentTime();
    },

    getElapsed: function getElapsed() {
        return elapsed;
    }
};

module.exports = timer;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wcm9jZXNzL3RpbWVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxDQUFDLFdBQVcsQ0FBQztBQUN4RCxJQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7O0FBRXZCLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQztBQUNoQixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUM7O0FBRW5CLElBQU0sS0FBSyxHQUFHO0FBQ1YsVUFBTSxFQUFFLGdCQUFDLFVBQVUsRUFBSztBQUNwQixZQUFNLElBQUksR0FBRyxPQUFPLENBQUM7QUFDckIsZUFBTyxHQUFHLFVBQVUsQ0FBQztBQUNyQixlQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDOztBQUVoRCxlQUFPLE9BQU8sQ0FBQztLQUNsQjs7QUFFRCxTQUFLLEVBQUU7ZUFBTSxPQUFPLEdBQUcsV0FBVyxFQUFFO0tBQUE7O0FBRXBDLGNBQVUsRUFBRTtlQUFNLE9BQU87S0FBQTtDQUM1QixDQUFDOztBQUVGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDIiwiZmlsZSI6InRpbWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY3VycmVudFRpbWUgPSByZXF1aXJlKCcuLi9pbmMvdXRpbHMnKS5jdXJyZW50VGltZTtcbmNvbnN0IE1BWF9FTEFQU0VEID0gMzM7XG5cbmxldCBjdXJyZW50ID0gMDtcbmxldCBlbGFwc2VkID0gMTYuNztcblxuY29uc3QgdGltZXIgPSB7XG4gICAgdXBkYXRlOiAoZnJhbWVzdGFtcCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2ID0gY3VycmVudDtcbiAgICAgICAgY3VycmVudCA9IGZyYW1lc3RhbXA7XG4gICAgICAgIGVsYXBzZWQgPSBNYXRoLm1pbihjdXJyZW50IC0gcHJldiwgTUFYX0VMQVBTRUQpO1xuXG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH0sXG5cbiAgICBzdGFydDogKCkgPT4gY3VycmVudCA9IGN1cnJlbnRUaW1lKCksXG5cbiAgICBnZXRFbGFwc2VkOiAoKSA9PiBlbGFwc2VkXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHRpbWVyOyJdfQ==